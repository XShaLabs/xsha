basePath: /api/v1
definitions:
  database.ConversationStatus:
    enum:
    - pending
    - running
    - success
    - failed
    - cancelled
    type: string
    x-enum-varnames:
    - ConversationStatusPending
    - ConversationStatusRunning
    - ConversationStatusSuccess
    - ConversationStatusFailed
    - ConversationStatusCancelled
  database.DevEnvironment:
    properties:
      cpu_limit:
        type: number
      created_at:
        type: string
      created_by:
        type: string
      description:
        type: string
      env_vars:
        type: string
      id:
        type: integer
      memory_limit:
        type: integer
      name:
        type: string
      type:
        type: string
      updated_at:
        type: string
    type: object
  database.GitCredential:
    properties:
      created_at:
        type: string
      created_by:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      public_key:
        type: string
      type:
        $ref: '#/definitions/database.GitCredentialType'
      updated_at:
        type: string
      username:
        type: string
    type: object
  database.GitCredentialType:
    enum:
    - password
    - token
    - ssh_key
    type: string
    x-enum-varnames:
    - GitCredentialTypePassword
    - GitCredentialTypeToken
    - GitCredentialTypeSSHKey
  database.GitProtocolType:
    enum:
    - https
    - ssh
    type: string
    x-enum-varnames:
    - GitProtocolHTTPS
    - GitProtocolSSH
  database.Project:
    properties:
      created_at:
        type: string
      created_by:
        type: string
      credential:
        $ref: '#/definitions/database.GitCredential'
      credential_id:
        type: integer
      description:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      last_used:
        type: string
      name:
        type: string
      protocol:
        $ref: '#/definitions/database.GitProtocolType'
      repo_url:
        type: string
      updated_at:
        type: string
    type: object
  database.Task:
    properties:
      conversation_count:
        type: integer
      conversations:
        items:
          $ref: '#/definitions/database.TaskConversation'
        type: array
      created_at:
        type: string
      created_by:
        type: string
      dev_environment:
        $ref: '#/definitions/database.DevEnvironment'
      dev_environment_id:
        type: integer
      has_pull_request:
        type: boolean
      id:
        type: integer
      project:
        $ref: '#/definitions/database.Project'
      project_id:
        type: integer
      start_branch:
        type: string
      status:
        $ref: '#/definitions/database.TaskStatus'
      title:
        type: string
      updated_at:
        type: string
      work_branch:
        type: string
      workspace_path:
        type: string
    type: object
  database.TaskConversation:
    properties:
      commit_hash:
        type: string
      content:
        type: string
      created_at:
        type: string
      created_by:
        type: string
      id:
        type: integer
      status:
        $ref: '#/definitions/database.ConversationStatus'
      task:
        $ref: '#/definitions/database.Task'
      task_id:
        type: integer
      updated_at:
        type: string
    type: object
  database.TaskExecutionLog:
    properties:
      completed_at:
        type: string
      conversation:
        $ref: '#/definitions/database.TaskConversation'
      conversation_id:
        type: integer
      created_at:
        type: string
      docker_command:
        type: string
      error_message:
        type: string
      execution_logs:
        type: string
      id:
        type: integer
      started_at:
        type: string
      updated_at:
        type: string
    type: object
  database.TaskStatus:
    enum:
    - todo
    - in_progress
    - done
    - cancelled
    type: string
    x-enum-varnames:
    - TaskStatusTodo
    - TaskStatusInProgress
    - TaskStatusDone
    - TaskStatusCancelled
  handlers.BatchUpdateConfigsRequest:
    properties:
      configs:
        items:
          $ref: '#/definitions/handlers.ConfigUpdateItem'
        type: array
    required:
    - configs
    type: object
  handlers.ConfigUpdateItem:
    properties:
      category:
        type: string
      config_key:
        type: string
      config_value:
        type: string
      description:
        type: string
      is_editable:
        type: boolean
    required:
    - config_key
    - config_value
    type: object
  handlers.CreateCredentialRequest:
    description: Request parameters for creating Git credentials
    properties:
      description:
        example: Credential for GitHub projects
        type: string
      name:
        example: My GitHub Credential
        type: string
      secret_data:
        additionalProperties:
          type: string
        example:
          '{"password"': '"mypassword"}'
        type: object
      type:
        enum:
        - password
        - token
        - ssh_key
        example: password
        type: string
      username:
        example: myusername
        type: string
    required:
    - name
    - secret_data
    - type
    type: object
  handlers.CreateEnvironmentRequest:
    properties:
      cpu_limit:
        maximum: 16
        minimum: 0.1
        type: number
      description:
        type: string
      env_vars:
        additionalProperties:
          type: string
        type: object
      memory_limit:
        maximum: 32768
        minimum: 128
        type: integer
      name:
        type: string
      type:
        type: string
    required:
    - name
    - type
    type: object
  handlers.CreateProjectRequest:
    properties:
      credential_id:
        type: integer
      description:
        type: string
      name:
        type: string
      protocol:
        enum:
        - https
        - ssh
        type: string
      repo_url:
        type: string
    required:
    - name
    - protocol
    - repo_url
    type: object
  handlers.FetchRepositoryBranchesRequest:
    description: Request parameters for fetching Git repository branch list
    properties:
      credential_id:
        example: 1
        type: integer
      repo_url:
        example: https://github.com/user/repo.git
        type: string
    required:
    - repo_url
    type: object
  handlers.FetchRepositoryBranchesResponse:
    description: Response for fetching Git repository branch list
    properties:
      branches:
        example:
        - '["main"'
        - '"develop"'
        - '"feature-1"]'
        items:
          type: string
        type: array
      can_access:
        example: true
        type: boolean
      error_message:
        example: ""
        type: string
    type: object
  handlers.ParseRepositoryURLRequest:
    description: 解析Git仓库URL的请求参数
    properties:
      repo_url:
        example: https://github.com/user/repo.git
        type: string
    required:
    - repo_url
    type: object
  handlers.ParseRepositoryURLResponse:
    description: 解析Git仓库URL的响应
    properties:
      host:
        example: github.com
        type: string
      is_valid:
        example: true
        type: boolean
      owner:
        example: user
        type: string
      protocol:
        example: https
        type: string
      repo:
        example: repo
        type: string
    type: object
  handlers.UpdateCredentialRequest:
    description: Request parameters for updating Git credentials
    properties:
      description:
        example: Updated description
        type: string
      name:
        example: Updated credential name
        type: string
      secret_data:
        additionalProperties:
          type: string
        example:
          '{"password"': '"newpassword"}'
        type: object
      username:
        example: newusername
        type: string
    type: object
  handlers.UpdateEnvironmentRequest:
    properties:
      cpu_limit:
        type: number
      description:
        type: string
      env_vars:
        additionalProperties:
          type: string
        type: object
      memory_limit:
        type: integer
      name:
        type: string
    type: object
  handlers.UpdateProjectRequest:
    description: Update project request parameters
    properties:
      credential_id:
        example: 1
        type: integer
      description:
        example: Updated project description
        type: string
      name:
        example: Updated project name
        type: string
      repo_url:
        example: https://github.com/user/repo.git
        type: string
    type: object
  handlers.ValidateRepositoryAccessRequest:
    description: Request parameters for validating Git repository access permissions
    properties:
      credential_id:
        example: 1
        type: integer
      repo_url:
        example: https://github.com/user/repo.git
        type: string
    required:
    - repo_url
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: XSHA Backend API service, providing user authentication, project management,
    Git credential management and other functions
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: XSHA Backend API
  version: "1.0"
paths:
  /admin/login-logs:
    get:
      consumes:
      - application/json
      description: Get system login log records, supporting filtering by username
        and pagination
      parameters:
      - description: Username filter
        in: query
        name: username
        type: string
      - description: Page number, defaults to 1
        in: query
        name: page
        type: integer
      - description: Page size, defaults to 20, maximum 100
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Login log list
          schema:
            properties:
              logs:
                items:
                  type: object
                type: array
              message:
                type: string
              page:
                type: number
              page_size:
                type: number
              total:
                type: number
              total_pages:
                type: number
            type: object
        "500":
          description: Failed to get login logs
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get login logs
      tags:
      - Authentication
  /admin/operation-logs:
    get:
      consumes:
      - application/json
      description: Get administrator operation log list with multi-condition filtering
        and pagination
      parameters:
      - description: Username filter
        in: query
        name: username
        type: string
      - description: Resource type filter
        in: query
        name: resource
        type: string
      - description: Operation type filter
        in: query
        name: operation
        type: string
      - description: Operation success status filter
        in: query
        name: success
        type: boolean
      - description: Start time filter (YYYY-MM-DD)
        in: query
        name: start_time
        type: string
      - description: End time filter (YYYY-MM-DD)
        in: query
        name: end_time
        type: string
      - description: Page number, default is 1
        in: query
        name: page
        type: integer
      - description: Page size, default is 20, maximum is 100
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Operation log list
          schema:
            properties:
              logs:
                items:
                  type: object
                type: array
              message:
                type: string
              page:
                type: number
              page_size:
                type: number
              total:
                type: number
              total_pages:
                type: number
            type: object
        "500":
          description: Failed to get operation logs
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get operation log list
      tags:
      - Admin Logs
  /admin/operation-logs/{id}:
    get:
      consumes:
      - application/json
      description: Get detailed information of a single operation log by ID
      parameters:
      - description: Log ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Operation log details
          schema:
            properties:
              log:
                type: object
              message:
                type: string
            type: object
        "400":
          description: Invalid log ID
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: Log not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get operation log details
      tags:
      - Admin Logs
  /admin/operation-stats:
    get:
      consumes:
      - application/json
      description: Get operation statistics information within a specified time range
      parameters:
      - description: Username filter
        in: query
        name: username
        type: string
      - description: Start time (YYYY-MM-DD), default is 30 days ago
        in: query
        name: start_time
        type: string
      - description: End time (YYYY-MM-DD), default is today
        in: query
        name: end_time
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Operation statistics information
          schema:
            properties:
              end_time:
                type: string
              message:
                type: string
              operation_stats:
                type: object
              resource_stats:
                type: object
              start_time:
                type: string
            type: object
        "500":
          description: Failed to get operation statistics
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get operation statistics
      tags:
      - Admin Logs
  /auth/login:
    post:
      consumes:
      - application/json
      description: Login authentication using username and password
      parameters:
      - description: Login information
        in: body
        name: loginData
        required: true
        schema:
          properties:
            password:
              type: string
            username:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            properties:
              expires_at:
                type: string
              token:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: Authentication failed
          schema:
            properties:
              error:
                type: string
            type: object
        "429":
          description: Too frequent requests
          schema:
            properties:
              error:
                type: string
            type: object
      summary: User login
      tags:
      - Authentication
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Logout current user and add token to blacklist
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Invalid token
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: Authentication failed
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Logout failed
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: User logout
      tags:
      - Authentication
  /dev-environments:
    get:
      consumes:
      - application/json
      description: Get current user's development environment list with pagination
        and filtering
      parameters:
      - description: Page number, default is 1
        in: query
        name: page
        type: integer
      - description: Page size, default is 10
        in: query
        name: page_size
        type: integer
      - description: Environment type filter
        in: query
        name: type
        type: string
      - description: Environment name filter
        in: query
        name: name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Environment list
          schema:
            properties:
              environments:
                items:
                  type: object
                type: array
              total:
                type: number
            type: object
      security:
      - BearerAuth: []
      summary: Get environment list
      tags:
      - Development Environment
    post:
      consumes:
      - application/json
      description: Create a new development environment
      parameters:
      - description: Environment information
        in: body
        name: environment
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateEnvironmentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Environment created successfully
          schema:
            properties:
              environment:
                type: object
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create development environment
      tags:
      - Development Environment
  /dev-environments/{id}:
    delete:
      consumes:
      - application/json
      description: Delete specified development environment
      parameters:
      - description: Environment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Environment deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Delete failed
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete environment
      tags:
      - Development Environment
    get:
      consumes:
      - application/json
      description: Get detailed information of a development environment by ID
      parameters:
      - description: Environment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Environment details
          schema:
            properties:
              environment:
                type: object
            type: object
        "404":
          description: Environment not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get environment details
      tags:
      - Development Environment
    put:
      consumes:
      - application/json
      description: Update specified development environment information
      parameters:
      - description: Environment ID
        in: path
        name: id
        required: true
        type: integer
      - description: Environment update information
        in: body
        name: environment
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateEnvironmentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Environment updated successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update environment
      tags:
      - Development Environment
  /dev-environments/{id}/env-vars:
    get:
      consumes:
      - application/json
      description: Get environment variables of specified environment
      parameters:
      - description: Environment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Environment variables
          schema:
            properties:
              env_vars:
                type: object
            type: object
        "400":
          description: Get failed
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get environment variables
      tags:
      - Development Environment
    put:
      consumes:
      - application/json
      description: Update environment variables of specified environment
      parameters:
      - description: Environment ID
        in: path
        name: id
        required: true
        type: integer
      - description: Environment variables
        in: body
        name: env_vars
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Update successful
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Update failed
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update environment variables
      tags:
      - Development Environment
  /dev-environments/available-types:
    get:
      consumes:
      - application/json
      description: Get available environment types from system configuration
      produces:
      - application/json
      responses:
        "200":
          description: Available environment types
          schema:
            properties:
              types:
                items:
                  type: object
                type: array
            type: object
      security:
      - BearerAuth: []
      summary: Get available environment types
      tags:
      - Development Environment
  /git-credentials:
    get:
      consumes:
      - application/json
      description: Get the current user's Git credential list, supporting filtering
        by type and pagination
      parameters:
      - description: Credential type filter (password/token/ssh_key)
        in: query
        name: type
        type: string
      - description: Page number, defaults to 1
        in: query
        name: page
        type: integer
      - description: Page size, defaults to 20, maximum 100
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Credential list
          schema:
            properties:
              credentials:
                items:
                  type: object
                type: array
              message:
                type: string
              page:
                type: number
              page_size:
                type: number
              total:
                type: number
              total_pages:
                type: number
            type: object
        "500":
          description: Failed to get credential list
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get Git credential list
      tags:
      - Git Credentials
    post:
      consumes:
      - application/json
      description: Create a new Git credential, supporting password, token, and SSH
        key types
      parameters:
      - description: Credential information
        in: body
        name: credential
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateCredentialRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Credential created successfully
          schema:
            properties:
              credential:
                type: object
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Failed to create credential
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create Git credential
      tags:
      - Git Credentials
  /git-credentials/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a specified Git credential
      parameters:
      - description: Credential ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Credential deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Invalid credential ID
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: Credential not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete Git credential
      tags:
      - Git Credentials
    get:
      consumes:
      - application/json
      description: Get detailed information of a specified Git credential by ID
      parameters:
      - description: Credential ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Credential details
          schema:
            properties:
              credential:
                type: object
            type: object
        "400":
          description: Invalid credential ID
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: Credential not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get Git credential details
      tags:
      - Git Credentials
    put:
      consumes:
      - application/json
      description: Update information of a specified Git credential
      parameters:
      - description: Credential ID
        in: path
        name: id
        required: true
        type: integer
      - description: Credential update information
        in: body
        name: credential
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateCredentialRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Credential updated successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: Credential not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update Git credential
      tags:
      - Git Credentials
  /health:
    get:
      consumes:
      - application/json
      description: Check server status
      produces:
      - application/json
      responses:
        "200":
          description: Server status is normal
          schema:
            properties:
              lang:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
      summary: Health check
      tags:
      - System
  /projects:
    get:
      consumes:
      - application/json
      description: Get current user's project list with pagination and name filtering
      parameters:
      - description: Project name filter (fuzzy matching)
        in: query
        name: name
        type: string
      - description: Protocol type filter (https/ssh)
        in: query
        name: protocol
        type: string
      - description: Page number, defaults to 1
        in: query
        name: page
        type: integer
      - description: Page size, defaults to 20
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Project list
          schema:
            properties:
              page:
                type: number
              page_size:
                type: number
              projects:
                items:
                  type: object
                type: array
              total:
                type: number
            type: object
        "500":
          description: Failed to get project list
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get project list
      tags:
      - Project
    post:
      consumes:
      - application/json
      description: Create a new project
      parameters:
      - description: Project information
        in: body
        name: project
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Project created successfully
          schema:
            properties:
              id:
                type: number
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Project creation failed
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create project
      tags:
      - Project
  /projects/{id}:
    delete:
      consumes:
      - application/json
      description: Delete specified project
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Project deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Invalid project ID
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: Project not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete project
      tags:
      - Project
    get:
      consumes:
      - application/json
      description: Get project detailed information by project ID
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Project details
          schema:
            properties:
              project:
                type: object
            type: object
        "400":
          description: Invalid project ID
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: Project not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get project details
      tags:
      - Project
    put:
      consumes:
      - application/json
      description: Update specified project information
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - description: Project update information
        in: body
        name: project
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Project updated successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: Project not found
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update project
      tags:
      - Project
  /projects/branches:
    post:
      consumes:
      - application/json
      description: Fetch Git repository branch list using provided credentials and
        verify access permissions
      parameters:
      - description: Repository information
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.FetchRepositoryBranchesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Fetch branch list successfully
          schema:
            properties:
              message:
                type: string
              result:
                $ref: '#/definitions/handlers.FetchRepositoryBranchesResponse'
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: Failed to fetch branch list
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Fetch Git repository branch list
      tags:
      - Project
  /projects/credentials:
    get:
      consumes:
      - application/json
      description: Get Git credential list compatible with protocol type
      parameters:
      - description: Protocol type (https/ssh)
        in: query
        name: protocol
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Get credential list successfully
          schema:
            properties:
              credentials:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get compatible credentials
      tags:
      - Project
  /projects/parse-url:
    post:
      consumes:
      - application/json
      description: 根据输入的Git仓库URL自动检测协议类型并解析URL信息
      parameters:
      - description: 仓库URL
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ParseRepositoryURLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 解析成功
          schema:
            properties:
              message:
                type: string
              result:
                $ref: '#/definitions/handlers.ParseRepositoryURLResponse'
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: 解析Git仓库URL
      tags:
      - 项目
  /projects/validate-access:
    post:
      consumes:
      - application/json
      description: Validate whether the specified Git repository can be accessed using
        provided credentials
      parameters:
      - description: Repository information
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ValidateRepositoryAccessRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Validation successful
          schema:
            properties:
              can_access:
                type: boolean
              message:
                type: string
            type: object
        "400":
          description: Request parameter error or validation failed
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Validate Git repository access permissions
      tags:
      - Project
  /system-configs:
    get:
      consumes:
      - application/json
      description: Get all system configurations without pagination
      produces:
      - application/json
      responses:
        "200":
          description: All configurations
          schema:
            properties:
              configs:
                items:
                  type: object
                type: array
            type: object
      security:
      - BearerAuth: []
      summary: Get all configurations
      tags:
      - System Configuration
    put:
      consumes:
      - application/json
      description: Update multiple system configurations in a single request
      parameters:
      - description: Configuration updates
        in: body
        name: configs
        required: true
        schema:
          $ref: '#/definitions/handlers.BatchUpdateConfigsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Configurations updated successfully
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: Request parameter error
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Batch update configurations
      tags:
      - System Configuration
  /task-conversations/{conversationId}/execution-log:
    get:
      consumes:
      - application/json
      description: Get detailed execution log of AI task by conversation ID
      parameters:
      - description: Conversation ID
        in: path
        name: conversationId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.TaskExecutionLog'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get task conversation execution log
      tags:
      - Task Execution Log
  /task-conversations/{conversationId}/execution/cancel:
    post:
      consumes:
      - application/json
      description: Cancel AI task that is executing or pending
      parameters:
      - description: Conversation ID
        in: path
        name: conversationId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Cancel task execution
      tags:
      - Task Execution Log
  /task-conversations/{conversationId}/execution/retry:
    post:
      consumes:
      - application/json
      description: Retry failed or cancelled AI task
      parameters:
      - description: Conversation ID
        in: path
        name: conversationId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Retry task execution
      tags:
      - Task Execution Log
  /user/current:
    get:
      consumes:
      - application/json
      description: Get information of current logged-in user
      produces:
      - application/json
      responses:
        "200":
          description: User information
          schema:
            properties:
              username:
                type: string
            type: object
        "500":
          description: Failed to get user information
          schema:
            properties:
              error:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get current user information
      tags:
      - User
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
